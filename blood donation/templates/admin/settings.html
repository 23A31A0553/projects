{% extends 'admin/base.html' %}
{% block title %}System Settings{% endblock %}

{% block content %}
<div class="grid">
    <div class="card">
        <h3>Parametric Configuration</h3>
        <form method="POST">
            <div style="margin-bottom: 1rem;">
                <label>Donation Gap (Days)</label>
                <input type="number" name="donation_gap" value="{{ settings.donation_gap_days }}" required>
                <small style="color: grey;">Minimum days between donations.</small>
            </div>

            <div style="margin-bottom: 1rem;">
                <label>Emergency Search Radius (km)</label>
                <input type="number" name="radius" value="{{ settings.emergency_radius_km }}" required>
                <small style="color: grey;">Default range for donor search.</small>
            </div>

            <div style="margin-bottom: 1rem;">
                <label>Admin Contact Email</label>
                <input type="email" name="email" value="{{ settings.admin_contact_email }}" required>
            </div>

            <button type="submit" class="btn btn-primary">Save Configuration</button>
        </form>
    </div>

    <div class="card">
        <h3>Database & System</h3>
        <p>Database Path: <code>sqlite:///lifelink.db</code></p>
        <p>Server Time: <span id="time"></span></p>
        <button class="btn btn-danger" onclick="alert('Feature disabled in demo')">Clear All Cache</button>
    </div>
</div>
<script>
    document.getElementById('time').innerText = new Date().toLocaleString();
</script>
{% endblock %}