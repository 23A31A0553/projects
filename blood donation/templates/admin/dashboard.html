{% extends 'admin/base.html' %}
{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<div class="grid">
    <div class="card">
        <h3>üë• Total Donors</h3>
        <p style="font-size: 2rem; font-weight: bold; color: var(--primary);">{{ donors|length }}</p>
        <small>Registered Users</small>
    </div>

    <div class="card">
        <h3>ü©∏ Blood Requests</h3>
        <p style="font-size: 2rem; font-weight: bold; color: var(--danger);">{{ requests|length }}</p>
        <small>Total Posted</small>
    </div>

    <div class="card">
        <h3>‚úÖ Lives Impacted</h3>
        <p style="font-size: 2rem; font-weight: bold; color: var(--success);">{{ helped }}</p>
        <small>Fulfilled Requests</small>
    </div>

    <div class="card">
        <h3>üè• Partner Hospitals</h3>
        <p style="font-size: 2rem; font-weight: bold; color: var(--secondary);">3</p>
        <small>Active Partners</small>
    </div>
</div>

<div class="grid" style="margin-top: 2rem; grid-template-columns: 2fr 1fr;">
    <div class="card">
        <h3>Real-time Activity</h3>
        <table style="margin-top: 1rem;">
            <thead>
                <tr>
                    <th>User</th>
                    <th>Action</th>
                    <th>Time</th>
                </tr>
            </thead>
            <tbody>
                <!-- Mock Data for Dashboard View -->
                <tr>
                    <td>System</td>
                    <td><span class="badge"
                            style="background:#e3f2fd; color:#1565c0; padding:2px 6px; border-radius:4px;">STARTUP</span>
                    </td>
                    <td>Just now</td>
                </tr>
                <tr>
                    <td>Admin</td>
                    <td><span class="badge"
                            style="background:#e8f5e9; color:#2e7d32; padding:2px 6px; border-radius:4px;">LOGIN</span>
                    </td>
                    <td>1 min ago</td>
                </tr>
            </tbody>
        </table>
        <a href="{{ url_for('admin_audit_logs') }}" class="btn btn-sm btn-primary" style="margin-top: 1rem;">View All
            Logs</a>
    </div>

    <div class="card">
        <h3>Quick Actions</h3>
        <div style="display: flex; flex-direction: column; gap: 10px;">
            <a href="{{ url_for('admin_donors') }}" class="btn btn-secondary">Manage Donors</a>
            <a href="{{ url_for('admin_requests') }}" class="btn btn-danger">View Requests</a>
            <a href="{{ url_for('admin_communication') }}" class="btn btn-primary">Broadcast Alert</a>
        </div>
    </div>
</div>
{% endblock %}